---
import { SITE_TITLE, SITE_DESCRIPTION } from '../../../config';
import { getPostDetail, getPosts } from '../../../services/post';
import BlogPost from '../../../layouts/BlogPost.astro';
import Markdown from '../../../components/Markdown';
import EditorJsRender from '../../../components/EditorJsRender';
const { book,post } = Astro.params;
const result = await getPostDetail(post);
const isMd =  !!result.props?.isMd;
console.log('--',result.props?.post)
---
<BlogPost 
	title={result.props?.post?.name ?? ''} 
	pubDate={result.props?.post?._createTime}
	updatedDate={result.props?.post?._modifyTime}
	description={result.props?.post?.meta?.metaDescription}
	heroImage={result.props?.post?.meta?.featureImage} 
	tags={result.props?.post?.tags?.map(item => item.name)}
>
	{
		isMd ? 
			<Markdown md={result.props?.post?.rawContent ?? ''} />
			:
			<EditorJsRender data={result.props?.post?.content?.data ?? {}} />
	}
	
</BlogPost>
